<%= form_with(model: municipe) do |form| %>
  <%= model_error_alert(municipe.errors) %>

  <div class="mb-3">
    <%= form.label :status, class: 'form-label' %>
    <br>
    <%= form.radio_button :status, 'ativo', :checked => true %> Ativo
    <%= form.radio_button :status, 'inativo' %> Inativo
  </div>

  <div class="row mb-3">
    <div class="col-md-8">
      <%= form.label :nome_completo, class: 'form-label' %>
      <%= form.text_field :nome_completo, class: 'form-control' %>
    </div>
    <div class="col-md-4">
      <%= form.label :foto, class: 'form-label' %>
      <%= form.file_field :foto, class: 'form-control' %>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-4">
      <%= form.label :data_nascimento, class: 'form-label' %>
      <%= form.date_field :data_nascimento, class: 'form-control' %>
    </div>
    <div class="col-md-4">
      <%= form.label :cpf, class: 'form-label', class: 'form-label' %>
      <%= form.text_field :cpf, class: 'form-control mask_cpf' %>
    </div>
    <div class="col-md-4">
      <%= form.label :cns, class: 'form-label', class: 'form-label' %>
      <%= form.text_field :cns, class: 'form-control mask_cns' %>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-7">
      <%= form.label :email, class: 'form-label', class: 'form-label' %>
      <%= form.email_field :email, class: 'form-control' %>
    </div>
    <div class="col-md-5">
      <%= form.label :telefone, class: 'form-label' %>
      <%= form.text_field :telefone, class: 'form-control mask_phone' %>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-12>
      <%= form.label :municipio, class: 'form-label' %>
      <%= form.text_field :municipio_id, class: 'form-control', list: 'lista_municipios', value: municipe&.municipio&.nome_listagem_formatado || '' %>
      <%= datalist_municipios %>
      <span class="blockquote-footer">Não encontrou seu município? <%= link_to 'Cadastre-o aqui', new_municipio_path %></span>
    </div>
  </div>
  
  <h4>Dados de endereço:</h4>
  
  <div class="row mb-3">
    <div class="col-md-4">
      <%= form.label 'Logradouro', class: 'form-label' %>
      <%= text_field 'municipe[endereco_attributes]', 'logradouro', class: 'form-control',value: municipe&.endereco&.logradouro %>
    </div>

    <div class="col-md-3">
      <%= form.label 'Complemento', class: 'form-label' %>
      <%= text_field 'municipe[endereco_attributes]', :complemento, class: 'form-control', value: municipe&.endereco&.complemento %>
    </div>

    <div class="col-md-3">
      <%= form.label 'Cidade', class: 'form-label' %>
      <%= text_field 'municipe[endereco_attributes]', 'municipio_id', class: 'form-control', list: 'lista_municipios', value: municipe&.endereco&.municipio&.nome_listagem_formatado || '' %>
      <span class="blockquote-footer">Não encontrou seu município? <%= link_to 'Cadastre-o aqui', new_municipio_path %></span>
    </div>

    <div class="col-md-2">
      <%= form.label 'CEP', class: 'form-label' %>
      <%= text_field 'municipe[endereco_attributes]', :cep, class: 'form-control mask_cep', value: municipe&.endereco&.cep %>
    </div>
  </div>

  <div class="d-flex justify-content-end mt-3">
    <%= form.submit 'Salvar', class: 'btn btn-primary' %>
  </div>
<% end %>
